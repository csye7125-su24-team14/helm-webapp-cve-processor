# helm-webapp-cve-processor

HELM Charts to launch a webapp-cve-processor

## Table of Contents
- [Project Title](helm-webapp-cve-processor)
  - [Table of Contents](#table-of-contents)
  - [Prerequisites](#prerequisites)
  - [Installation](#installation)
  - [Configuration](#configuration)
  - [Running Helm Charts](#running-helm-charts)
  - [Running Tests](#running-tests)

## Prerequisites

Before you begin, ensure you have met the following requirements:
- You have `git` installed (if cloning the repository)
- You have a container software installed, such as [Docker](https://docs.docker.com/get-docker/)
- You have any version of Kubernetes installed, such as [Minikube](https://minikube.sigs.k8s.io/docs/start/), [Kind](https://kind.sigs.k8s.io/docs/user/quick-start/), or a cloud-based Kubernetes service
- You have [Helm](https://helm.sh/docs/intro/install/) installed
- You have [Go](https://golang.org/dl/) installed

## Installation

1. Clone the repository (or download the source code):
   ```bash
   git clone https://github.com/csye7125-su24-team14/helm-webapp-cve-processor.git

## Configuration

Before installing the Helm chart, make sure to update the placeholders in `values.yaml` according to your environment and requirements:
    ```yaml
    dockerconfigjson: YOUR_DOCKER_CONFIG_JSON_BASE64_ENCODED

    postgres:
    host: YOUR_POSTGRES_HOST
    driver: YOUR_POSTGRES_DRIVER
    user: YOUR_POSTGRES_USER
    password: "YOUR_POSTGRES_PASSWORD"
    name: YOUR_POSTGRES_DB_NAME
    port: "YOUR_POSTGRES_PORT"

    image:
    repository: YOUR_DOCKER_IMAGE_REPOSITORY
    pullPolicy: IfNotPresent
    tag: "YOUR_IMAGE_TAG"

    liquibase:
    host: YOUR_POSTGRES_HOST
    port: YOUR_POSTGRES_PORT
    database: YOUR_POSTGRES_DB_NAME
    username: YOUR_POSTGRES_USER
    password: YOUR_POSTGRES_PASSWORD
    driver: org.postgresql.Driver
    changeLogFile: YOUR_CHANGELOG_FILE.sql
    searchPath: ./migrations

    initImage:
    repository: YOUR_INIT_IMAGE_REPOSITORY
    pullPolicy: IfNotPresent
    tag: "YOUR_INIT_IMAGE_TAG"



## Running Helm Charts

1. Before running Helm chart perform lint, template and a dry run to see if there are any errors:
   helm lint .
   helm template .
   helm install my-app-name . --dry-run

2. To Install Helm chart:
   helm install my-app-name .

3. To Upgrade Helm chart:
   helm Upgrade my-app-name .

4. To Uninstall Helm chart:
   helm uninstall my-app-name 

## Debug cmds

1. To view logs of init container:
   kubectl logs podname -c containername 

2. To view describe pod:
   kubectl describe pod pod-name

3. To list all active versions of helm :
   helm list --all

4. To ssh into pod:
   kubectl exec -it pod-name sh





